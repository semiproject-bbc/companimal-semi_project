<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.companimal.semiProject.project.model.dao.ProjectMapper">

    <resultMap id="projectResultMap" type="com.companimal.semiProject.project.model.dto.ProjectDTO">
        <id property="proCode" column="pro_code"/>
        <result property="proName" column="pro_name"/>
        <result property="proIntro" column="pro_intro"/>
        <result property="goalAmount" column="goal_amount"/>
        <result property="startDate" column="start_date"/>
        <result property="endDate" column="end_date"/>
        <result property="proStory" column="pro_story"/>
        <result property="polNoRefund" column="pol_no_refund"/>
        <result property="polAs" column="pol_as"/>
        <result property="memId" column="mem_id"/>
        <result property="estDate" column="est_date"/>
        <result property="achRate" column="ach_rate"/>
        <result property="delStatus" column="del_status"/>
        <result property="cateMain" column="cate_main"/>
        <result property="cateSub" column="cate_sub"/>
    </resultMap>

    <select id="selectProject" resultMap="projectResultMap">
        SELECT pro_code
                ,pro_name
                ,pro_intro
                ,goal_amount
                ,start_date
                ,end_date
                ,pro_story
                ,pol_no_refund
                ,pol_as
                ,mem_id
                ,est_date
                ,ach_rate
                ,del_status
                ,cate_main
                ,cate_sub
          FROM project
         WHERE del_status = 'N'
    </select>

    <select id="selectEndProjectList" resultMap="projectResultMap">
        SELECT pro_code
        ,pro_name
        ,pro_intro
        ,goal_amount
        ,start_date
        ,end_date
        ,pro_story
        ,pol_no_refund
        ,pol_as
        ,mem_id
        ,est_date
        ,ach_rate
        ,del_status
        ,cate_main
        ,cate_sub
        FROM project
        WHERE del_status = 'N'
<!--        and ach_rate > 100-->
    </select>
</mapper>